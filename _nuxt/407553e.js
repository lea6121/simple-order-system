(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{387:function(t,e,r){"use strict";var n=r(5),o=r(71).find,c=r(129),d="find",l=!0;d in[]&&Array(1).find((function(){l=!1})),n({target:"Array",proto:!0,forced:l},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(d)},388:function(t,e,r){var n=r(3),o=r(22),c=r(11),d=r(389),l=n("".replace),f="["+d+"]",m=RegExp("^"+f+f+"*"),h=RegExp(f+f+"*$"),v=function(t){return function(e){var r=c(o(e));return 1&t&&(r=l(r,m,"")),2&t&&(r=l(r,h,"")),r}};t.exports={start:v(1),end:v(2),trim:v(3)}},389:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},390:function(t,e,r){"use strict";var n=r(13),o=r(1),c=r(3),d=r(131),l=r(18),f=r(14),m=r(255),h=r(47),v=r(130),y=r(254),x=r(6),k=r(92).f,_=r(38).f,I=r(17).f,N=r(391),w=r(388).trim,O="Number",E=o.Number,j=E.prototype,P=o.TypeError,S=c("".slice),V=c("".charCodeAt),$=function(t){var e=y(t,"number");return"bigint"==typeof e?e:F(e)},F=function(t){var e,r,n,o,c,d,l,code,f=y(t,"number");if(v(f))throw P("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(f=w(f),43===(e=V(f,0))||45===e){if(88===(r=V(f,2))||120===r)return NaN}else if(48===e){switch(V(f,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+f}for(d=(c=S(f,2)).length,l=0;l<d;l++)if((code=V(c,l))<48||code>o)return NaN;return parseInt(c,n)}return+f};if(d(O,!E(" 0o1")||!E("0b1")||E("+0x1"))){for(var T,C=function(t){var e=arguments.length<1?0:E($(t)),r=this;return h(j,r)&&x((function(){N(r)}))?m(Object(e),r,C):e},A=n?k(E):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),R=0;A.length>R;R++)f(E,T=A[R])&&!f(C,T)&&I(C,T,_(E,T));C.prototype=j,j.constructor=C,l(o,O,C)}},391:function(t,e,r){var n=r(3);t.exports=n(1..valueOf)},392:function(t,e,r){"use strict";var n=r(5),o=r(388).trim;n({target:"String",proto:!0,forced:r(393)("trim")},{trim:function(){return o(this)}})},393:function(t,e,r){var n=r(91).PROPER,o=r(6),c=r(389);t.exports=function(t){return o((function(){return!!c[t]()||"​᠎"!=="​᠎"[t]()||n&&c[t].name!==t}))}},395:function(t,e,r){var content=r(402);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(90).default)("5c517716",content,!0,{sourceMap:!1})},401:function(t,e,r){"use strict";r(395)},402:function(t,e,r){var n=r(89)(!1);n.push([t.i,".el-container[data-v-7db2cf00]{height:100vh}.el-container .el-button.add-btn[data-v-7db2cf00]{width:100px;height:60px;margin:20px 0 0 20px}.el-container .el-submenu .el-menu-item[data-v-7db2cf00]{padding:0;font-size:16px}.el-container .el-dialog__header[data-v-7db2cf00]{text-align:center;padding:20px}.el-container .el-dialog__title[data-v-7db2cf00]{font-size:26px;display:block;padding:10px}.el-container .el-dialog__headerbtn[data-v-7db2cf00]{display:none}.el-container .el-dialog__body button[data-v-7db2cf00]{margin-bottom:10px}.el-container .el-dialog__body table[data-v-7db2cf00]{width:100%;margin:0 auto 10px}.el-container .el-dialog__body table thead[data-v-7db2cf00]{width:100%;background:rgba(0,0,0,.2)}.el-container .el-dialog__body table thead tr[data-v-7db2cf00]{height:40px;line-height:40px;text-align:center}.el-container .el-dialog__body table thead th[data-v-7db2cf00]{border:2px solid #fff}.el-container .el-dialog__body table tbody[data-v-7db2cf00]{width:100%;background:rgba(0,0,0,.1)}.el-container .el-dialog__body table tbody td[data-v-7db2cf00]{padding:10px;border:2px solid #fff}.el-container .el-dialog__body table tbody .el-select[data-v-7db2cf00]{padding:4px}.el-container .el-dialog__body table tbody .btn[data-v-7db2cf00]{padding:10px}.el-container .el-dialog__body table tbody .btn[data-v-7db2cf00],.el-container .el-dialog__body table tbody .el-select[data-v-7db2cf00]{margin:0 auto;display:block;width:-webkit-fill-available;font-size:16px}.el-container .el-header[data-v-7db2cf00]{background-color:rgba(0,0,0,.1);color:#333;line-height:60px;font-size:20px;font-weight:500;display:flex;justify-content:space-between;align-items:center}.el-container .el-header .el-button[data-v-7db2cf00]{padding:13px}.el-container .el-aside[data-v-7db2cf00]{color:#333}.el-container .el-table[data-v-7db2cf00]{margin-bottom:10px}.el-container .cell[data-v-7db2cf00]{font-size:15px;text-align:center;color:rgba(0,0,0,.8);white-space:break-spaces!important;word-break:break-word}.el-container .is-right .cell[data-v-7db2cf00]{display:flex;justify-content:center}.el-container .is-right .cell button[data-v-7db2cf00]{margin:2px}",""]),t.exports=n},411:function(t,e,r){"use strict";r.r(e);r(46),r(29),r(45),r(72),r(37),r(73);var n=r(10),o=r(27),c=(r(74),r(12),r(392),r(390),r(387),r(44));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={name:"StockPage",data:function(){return{dialogFormVisible:!1,productItem:{productId:"",productName:"",stock:"",price:""}}},computed:l({setTableData:function(){return this.$store.state.stock}},Object(c.c)(["orders","stock"])),methods:l(l({},Object(c.b)(["addNewProduct","deleteProduct","modifyProduct"])),{},{goToOrders:function(){this.$router.push("/admin/orders")},goToStock:function(){this.$router.push("/admin/stock")},openError:function(t){this.$message({showClose:!0,message:t,type:"error"})},openSuccess:function(t){this.$message({showClose:!0,message:t,type:"success"})},handleEdit:function(t,e){var r=JSON.parse(JSON.stringify(this.stock[t]));this.productItem.productId=r.productId,this.productItem.productName=r.productName,this.productItem.stock=r.stock,this.productItem.price=r.price},handleDelete:function(t){this.deleteProduct(t)},formValidation:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=!0,o=e.stock.some((function(e){return e.productId===t.productId})),c=e.stock.some((function(e){return e.productName===t.productName})),!o||!c){r.next=6;break}return n=!0,r.abrupt("return",n);case 6:if(!o){r.next=12;break}return n=!1,e.openError("商品編號不可重複。"),r.abrupt("return",n);case 12:if(!c){r.next=15;break}return r.next=15,e.$confirm("商品名稱重複，確定新增同名稱商品嗎？","",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((function(){return e.$message({type:"success",message:"新增成功。"}),n=!0})).catch((function(){return e.$message({type:"info",message:"已取消新增。"}),n=!1}));case 15:if(!(!t.productName.trim()||Number(t.price.trim())<1||Number(t.stock.trim())<1)){r.next=19;break}return n=!1,e.dialogFormVisible=!0,r.abrupt("return",n);case 19:return r.abrupt("return",n);case 20:case"end":return r.stop()}}),r)})))()},reset:function(){this.productItem={productId:"",productName:"",stock:"",price:""}},editConfirmation:function(t){var e=JSON.parse(JSON.stringify(this.productItem));this.formValidation(e)&&(this.modifyProduct(e),this.dialogFormVisible=!1,this.reset())},addProductConfirmation:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.formValidation(t.productItem);case 2:if(e.sent){e.next=6;break}return t.openError("新增失敗，請填入應填資訊。"),e.abrupt("return");case 6:r=Object.assign({},t.productItem),t.addNewProduct(r),t.dialogFormVisible=!1,t.reset(r);case 10:case"end":return e.stop()}}),e)})))()},handleConfirm:function(){var t=this.productItem.productId;this.stock.find((function(e){return e.productId===t}))?this.editConfirmation(t):this.addProductConfirmation()}})},m=(r(401),r(58)),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-container",{staticStyle:{border:"1px solid #eee"}},[r("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"15%"}},[r("el-menu",{attrs:{"default-openeds":["1","2"]}},[r("el-submenu",{attrs:{index:"1"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-setting"})]),r("el-menu-item",{attrs:{index:"1-1"},on:{click:t.goToOrders}},[t._v("訂單管理")]),r("el-menu-item",{attrs:{index:"1-2"},on:{click:t.goToStock}},[t._v("庫存管理")])],2)],1)],1),r("el-container",[r("el-header",[r("h1",[t._v("庫存管理")])]),r("el-button",{staticClass:"add-btn",on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("新增項目")]),r("el-main",[r("el-table",{attrs:{data:t.setTableData}},[r("el-table-column",{attrs:{type:"index",label:""}}),r("el-table-column",{attrs:{prop:"productId",label:"商品編號"}}),r("el-table-column",{attrs:{prop:"productName",label:"商品名稱"}}),r("el-table-column",{attrs:{prop:"price",label:"商品價格"}}),r("el-table-column",{attrs:{prop:"stock",label:"商品數量"}}),r("el-table-column",{staticClass:"btns",attrs:{align:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-button",{attrs:{size:"mini"},on:{click:function(r){t.handleEdit(e.$index,e.row.id),t.dialogFormVisible=!0}}},[t._v("編輯")]),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.handleDelete(e.$index)}}},[t._v("刪除")])]}}])})],1),r("el-dialog",{attrs:{width:"60%",title:"商品內容",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[r("table",[r("thead",[r("tr",[r("th",[t._v("編號")]),r("th",[t._v("名稱")]),r("th",[t._v("價格（需大於 0 元）")]),r("th",[t._v("數量（需大於 0 筆）")])])]),r("tbody",[r("tr",[r("td",[r("el-input",{attrs:{type:"number",placeholder:"請輸入商品編號",autofocus:"autofocus"},model:{value:t.productItem.productId,callback:function(e){t.$set(t.productItem,"productId",e)},expression:"productItem.productId"}})],1),r("td",[r("el-input",{attrs:{type:"text",placeholder:"請輸入商品名稱"},model:{value:t.productItem.productName,callback:function(e){t.$set(t.productItem,"productName",e)},expression:"productItem.productName"}})],1),r("td",[r("el-input",{attrs:{type:"number",placeholder:"請輸入商品金額",min:"1"},model:{value:t.productItem.price,callback:function(e){t.$set(t.productItem,"price",e)},expression:"productItem.price"}})],1),r("td",[r("el-input",{attrs:{type:"number",placeholder:"請輸入商品數量",min:"1"},model:{value:t.productItem.stock,callback:function(e){t.$set(t.productItem,"stock",e)},expression:"productItem.stock"}})],1)])])]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.reset(),t.dialogFormVisible=!1}}},[t._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.handleConfirm()}}},[t._v("確認")])],1)])],1)],1)],1)],1)}),[],!1,null,"7db2cf00",null);e.default=component.exports}}]);